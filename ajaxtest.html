<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>jQuery TIPS</title>
    <style>
    img {
        display: block;
    }
    .form{
        height: 300px;
    }
    .wrapper-img{
        float: left;
    }
    .img{
        width: 300px;
    }
    </style>
</head>

<body>
    <div class="wrapper-img">
        <img id="tops-img" class="img">
        <img id="bottoms-img" class="img">
        <img id="shoes-img" class="img">
    </div> 
    <div class="form">
        <form id="form-tops">
            <div>
                <label for="keyword">カラー：</label>
                <input id="keyword" type="text" size="20" name="color" value="ff00ff" />
                <label for="keyword">タイプ：</label>
                <input id="type" type="text" size="20" name="type" value="0" />
                <input id="tops-api" type="button" value="検索" />
            </div>
        </form>
        <form id="form-bottoms">
                <div>
                    <label for="keyword">カラー：</label>
                    <input id="keyword" type="text" size="20" name="color" value="ff00ff" />
                    <label for="keyword">タイプ：</label>
                    <input id="type" type="text" size="20" name="type" value="0" />
                    <input id="bottoms-api" type="button" value="検索" />
                </div>
            </form>
            <form id="form-shoes">
                    <div>
                        <label for="keyword">カラー：</label>
                        <input id="keyword" type="text" size="20" name="color" value="ff00ff" />
                        <label for="keyword">タイプ：</label>
                        <input id="type" type="text" size="20" name="type" value="0" />
                        <input id="shoes-api" type="button" value="検索" />
                    </div>
                </form>
    </div>
 

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        $(function () {
            // ［検索］ボタンクリックで検索開始
            $('#tops-api').click(function () {
                const formData = new FormData(document.getElementById('form-tops'));
                const params = new URLSearchParams(formData);
                fetch('http://localhost:3000/api/v1/tops?' + params.toString())
                    .then(response => {
                        return response.text();
                    })
                    .then(body => {
                        var elem = document.getElementById("tops-img");
                        elem.src = body;
                        console.log(body);
                    });
            });
            $('#bottoms-api').click(function () {
                const formData = new FormData(document.getElementById('form-bottoms'));
                const params = new URLSearchParams(formData);
                fetch('http://localhost:3000/api/v1/bottoms?' + params.toString())
                    .then(response => {
                        return response.text();
                    })
                    .then(body => {
                        var elem = document.getElementById("bottoms-img");
                        elem.src = body;
                        console.log(body);
                    });
            });
            $('#shoes-api').click(function () {
                const formData = new FormData(document.getElementById('form-shoes'));
                const params = new URLSearchParams(formData);
                fetch('http://localhost:3000/api/v1/shoes?' + params.toString())
                    .then(response => {
                        return response.text();
                    })
                    .then(body => {
                        var elem = document.getElementById("shoes-img");
                        elem.src = body;
                        console.log(body);
                    });
            });
        });
    </script>
</body>

</html>
