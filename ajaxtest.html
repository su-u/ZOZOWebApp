<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>jQuery TIPS</title>
</head>

<body>
    <form>
        <div>
            <label for="keyword">キーワード：</label>
            <input id="keyword" type="text" size="20" />
            <input id="search" type="button" value="検索" />
        </div>
        <ul id="result" class="ajax"></ul>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        $(function () {
            // ［検索］ボタンクリックで検索開始
            $('#search').click(function () {
                fetch('http://localhost:3000/api/v1/tops?color=5ff00c&type=testtype')
                    .then(response => {
                        return response.text();
                    })
                    .then(body => {
                        var elem = document.getElementById("tops");
                        elem.src = body;
                        console.log(body);
                    });
            });
        });
    </script>
    <img id="tops">
</body>

</html>
